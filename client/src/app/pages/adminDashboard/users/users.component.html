<div class="h-full w-full mt-4">
    <h2 class="text-center">Users</h2>

    <div class="w-full mx-auto flex justify-content-end px-6">
        <p-button label="Add User" (click)="showAddModal()"></p-button>

        <app-add-edit-user-modal [selectedUser]="selectedUser" [displayAddModal]="displayAddEditModal"
            (clickClose)="hideAddModal($event)" (clickAdd)="refreshTable($event)"></app-add-edit-user-modal>
    </div>

    <div class="flex mx-auto h-full mt-2">
        <app-admin-navbar></app-admin-navbar>

        <p-card class="col">
            <p-table [value]="users" [tableStyle]="{ 'min-width': '400px' }" [paginator]="true" [rows]="10"
                [lazy]="true" (onLazyLoad)="getUsers($any($event))" [totalRecords]="metadata.totalUsers"
                [loading]="loading">
                <ng-template pTemplate="header">
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Email</th>
                        <th>Age</th>
                        <th>Phone Number</th>
                        <th>Created At</th>
                        <th>Updated At</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-user>
                    <tr>
                        <td>{{ user.firstName }}</td>
                        <td>{{ user.lastName }}</td>
                        <td>{{ user.email }}</td>
                        <td>{{ user.age }}</td>
                        <td>{{ user.phoneNumber }}</td>
                        <td>{{ user.createdAt }}</td>
                        <td>{{ user.updatedAt }}</td>
                        <td class="flex gap-2">
                            <button pButton icon="pi pi-pencil" class="p-button-rounded p-button-success"
                                (click)="showEditModal(user)"></button>

                            <button pButton icon="pi pi-trash" class="p-button-rounded p-button-warning"
                                (click)="deleteUser(user)"></button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </p-card>
    </div>

    <p-confirmDialog header="Confirmation" icon="pi pi-exclamation-tringle"></p-confirmDialog>
</div>